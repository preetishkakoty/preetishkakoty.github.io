{{ define "main" }}
  <section class="section">
    <div class="container">
      <h1 class="mb-4">Publications</h1>

      {{/* Group pages by YEAR using Hugo's built-in API (robust + simple) */}}
      {{ $groups := .Pages.GroupByDate "2006" }}
      {{ range sort $groups "Key" "desc" }}
        <h2 class="mt-6 border-b pb-2">{{ .Key }}</h2>
        <ul class="list-unstyled">
          {{ range .Pages.ByDate.Reverse }}
            <li class="mb-4">
              <h3 class="h5 mb-1">
                <a href="{{ .RelPermalink }}">{{ .Title }}</a>
              </h3>
              {{ with .Params.publication }}<div class="text-muted small">{{ . }}</div>{{ end }}
              {{ with .Summary }}<div class="small">{{ . }}</div>{{ end }}
            </li>
          {{ end }}
        </ul>
      {{ end }}

    </div>
  </section>
{{ end }}
